!function(e){"use strict";e.fn.transitionEnd=function(e){function t(o){if(o.target===this)for(e.call(this,o),n=0;n<a.length;n++)i.off(a[n],t)}var n,a=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e)for(n=0;n<a.length;n++)i.on(a[n],t);return this},e.support=function(){var e={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return e}(),e.touchEvents={start:e.support.touch?"touchstart":"mousedown",move:e.support.touch?"touchmove":"mousemove",end:e.support.touch?"touchend":"mouseup"},e.getTouchPosition=function(e){return e=e.originalEvent||e,"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type?{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}:{x:e.pageX,y:e.pageY}},e.fn.scrollHeight=function(){return this[0].scrollHeight},e.fn.transform=function(e){for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform=e}return this},e.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var t=0;t<this.length;t++){var n=this[t].style;n.webkitTransitionDuration=n.MsTransitionDuration=n.msTransitionDuration=n.MozTransitionDuration=n.OTransitionDuration=n.transitionDuration=e}return this},e.getTranslate=function(e,t){var n,a,i,o;return"undefined"==typeof t&&(t="x"),i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?o=new WebKitCSSMatrix("none"===i.webkitTransform?"":i.webkitTransform):(o=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=o.toString().split(",")),"x"===t&&(a=window.WebKitCSSMatrix?o.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(a=window.WebKitCSSMatrix?o.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),a||0},e.requestAnimationFrame=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(e):window.setTimeout(e,1e3/60)},e.cancelAnimationFrame=function(e){return window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(e):window.clearTimeout(e)},e.fn.join=function(e){return this.toArray().join(e)}}($),+function(e){"use strict";e.Template7=e.t7=function(){function e(e){return"[object Array]"===Object.prototype.toString.apply(e)}function t(e){return"function"==typeof e}function n(e){var t,n,a,i=e.replace(/[{}#}]/g,"").split(" "),o=[];for(n=0;n<i.length;n++){var r=i[n];if(0===n)o.push(r);else if(0===r.indexOf('"'))if(2===r.match(/"/g).length)o.push(r);else{for(t=0,a=n+1;a<i.length;a++)if(r+=" "+i[a],i[a].indexOf('"')>=0){t=a,o.push(r);break}t&&(n=t)}else if(r.indexOf("=")>0){var s=r.split("="),c=s[0],l=s[1];if(2!==l.match(/"/g).length){for(t=0,a=n+1;a<i.length;a++)if(l+=" "+i[a],i[a].indexOf('"')>=0){t=a;break}t&&(n=t)}var p=[c,l.replace(/"/g,"")];o.push(p)}else o.push(r)}return o}function a(t){var a,i,o=[];if(!t)return[];var r=t.split(/({{[^{^}]*}})/);for(a=0;a<r.length;a++){var s=r[a];if(""!==s)if(s.indexOf("{{")<0)o.push({type:"plain",content:s});else{if(s.indexOf("{/")>=0)continue;if(s.indexOf("{#")<0&&s.indexOf(" ")<0&&s.indexOf("else")<0){o.push({type:"variable",contextName:s.replace(/[{}]/g,"")});continue}var c=n(s),l=c[0],p=[],u={};for(i=1;i<c.length;i++){var d=c[i];e(d)?u[d[0]]="false"!==d[1]&&d[1]:p.push(d)}if(s.indexOf("{#")>=0){var h,f="",m="",v=0,g=!1,w=!1,y=0;for(i=a+1;i<r.length;i++)if(r[i].indexOf("{{#")>=0&&y++,r[i].indexOf("{{/")>=0&&y--,r[i].indexOf("{{#"+l)>=0)f+=r[i],w&&(m+=r[i]),v++;else if(r[i].indexOf("{{/"+l)>=0){if(!(v>0)){h=i,g=!0;break}v--,f+=r[i],w&&(m+=r[i])}else r[i].indexOf("else")>=0&&0===y?w=!0:(w||(f+=r[i]),w&&(m+=r[i]));g&&(h&&(a=h),o.push({type:"helper",helperName:l,contextName:p,content:f,inverseContent:m,hash:u}))}else s.indexOf(" ")>0&&o.push({type:"helper",helperName:l,contextName:p,hash:u})}}return o}var i=function(e){function t(e,t){return e.content?r(e.content,t):function(){return""}}function n(e,t){return e.inverseContent?r(e.inverseContent,t):function(){return""}}function i(e,t){var n,a,i=0;if(0===e.indexOf("../")){i=e.split("../").length-1;var o=t.split("_")[1]-i;t="ctx_"+(o>=1?o:1),a=e.split("../")[i].split(".")}else 0===e.indexOf("@global")?(t="$.Template7.global",a=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(t="ctx_1",a=e.split("@root.")[1].split(".")):a=e.split(".");n=t;for(var r=0;r<a.length;r++){var s=a[r];0===s.indexOf("@")?r>0?n+="[(data && data."+s.replace("@","")+")]":n="(data && data."+e.replace("@","")+")":isFinite(s)?n+="["+s+"]":0===s.indexOf("this")?n=s.replace("this",t):n+="."+s}return n}function o(e,t){for(var n=[],a=0;a<e.length;a++)0===e[a].indexOf('"')?n.push(e[a]):n.push(i(e[a],t));return n.join(", ")}function r(e,r){if(r=r||1,e=e||s.template,"string"!=typeof e)throw new Error("Template7: Template must be a string");var c=a(e);if(0===c.length)return function(){return""};var l="ctx_"+r,p="(function ("+l+", data) {\n";1===r&&(p+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",p+="function isFunction(func){return (typeof func === 'function');}\n",p+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),p+="var r = '';\n";var u;for(u=0;u<c.length;u++){var d=c[u];if("plain"!==d.type){var h,f;if("variable"===d.type&&(h=i(d.contextName,l),p+="r += c("+h+", "+l+");"),"helper"===d.type)if(d.helperName in s.helpers)f=o(d.contextName,l),p+="r += ($.Template7.helpers."+d.helperName+").call("+l+", "+(f&&f+", ")+"{hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});";else{if(d.contextName.length>0)throw new Error('Template7: Missing helper: "'+d.helperName+'"');h=i(d.helperName,l),p+="if ("+h+") {",p+="if (isArray("+h+")) {",p+="r += ($.Template7.helpers.each).call("+l+", "+h+", {hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});",p+="}else {",p+="r += ($.Template7.helpers.with).call("+l+", "+h+", {hash:"+JSON.stringify(d.hash)+", data: data || {}, fn: "+t(d,r+1)+", inverse: "+n(d,r+1)+", root: ctx_1});",p+="}}"}}else p+="r +='"+d.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return p+="\nreturn r;})",eval.call(window,p)}var s=this;s.template=e,s.compile=function(e){return s.compiled||(s.compiled=r(e)),s.compiled}};i.prototype={options:{},helpers:{"if":function(e,n){return t(e)&&(e=e.call(this)),e?n.fn(this,n.data):n.inverse(this,n.data)},unless:function(e,n){return t(e)&&(e=e.call(this)),e?n.inverse(this,n.data):n.fn(this,n.data)},each:function(n,a){var i="",o=0;if(t(n)&&(n=n.call(this)),e(n)){for(a.hash.reverse&&(n=n.reverse()),o=0;o<n.length;o++)i+=a.fn(n[o],{first:0===o,last:o===n.length-1,index:o});a.hash.reverse&&(n=n.reverse())}else for(var r in n)o++,i+=a.fn(n[r],{key:r});return o>0?i:a.inverse(this)},"with":function(e,n){return t(e)&&(e=e.call(this)),n.fn(e)},join:function(e,n){return t(e)&&(e=e.call(this)),e.join(n.hash.delimiter||n.hash.delimeter)},js:function(e,t){var n;return n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})",eval.call(this,n).call(this)},js_compare:function(e,t){var n;n=e.indexOf("return")>=0?"(function(){"+e+"})":"(function(){return ("+e+")})";var a=eval.call(this,n).call(this);return a?t.fn(this,t.data):t.inverse(this,t.data)}}};var o=function(e,t){if(2===arguments.length){var n=new i(e),a=n.compile()(t);return n=null,a}return new i(e)};return o.registerHelper=function(e,t){i.prototype.helpers[e]=t},o.unregisterHelper=function(e){i.prototype.helpers[e]=void 0,delete i.prototype.helpers[e]},o.compile=function(e,t){var n=new i(e,t);return n.compile()},o.options=i.prototype.options,o.helpers=i.prototype.helpers,o}()}($),+function(e){"use strict";var t;e.modal=function(n,a){n=e.extend({},t,n);var i=n.buttons,o=i.map(function(e,t){return'<a href="javascript:;" class="weui-dialog__btn '+(e.className||"")+'">'+e.text+"</a>"}).join(""),r='<div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title">'+n.title+"</strong></div>"+(n.text?'<div class="weui-dialog__bd">'+n.text+"</div>":"")+'<div class="weui-dialog__ft">'+o+"</div></div>",s=e.openModal(r,a);return s.find(".weui-dialog__btn").each(function(t,a){var o=e(a);o.click(function(){n.autoClose&&e.closeModal(),i[t].onClick&&i[t].onClick.call(s)})}),s},e.openModal=function(t,n){var a=e("<div class='weui-mask'></div>").appendTo(document.body);a.show();var i=e(t).appendTo(document.body);return n&&i.transitionEnd(function(){n.call(i)}),i.show(),a.addClass("weui-mask--visible"),i.addClass("weui-dialog--visible"),i},e.closeModal=function(){e(".weui-mask--visible").removeClass("weui-mask--visible").transitionEnd(function(){e(this).remove()}),e(".weui-dialog--visible").removeClass("weui-dialog--visible").transitionEnd(function(){e(this).remove()})},e.alert=function(n,a,i){var o;return"object"==typeof n?o=n:("function"==typeof a&&(i=arguments[1],a=void 0),o={text:n,title:a,onOK:i}),e.modal({text:o.text,title:o.title,buttons:[{text:t.buttonOK,className:"primary",onClick:o.onOK}]})},e.confirm=function(n,a,i,o){var r;return"object"==typeof n?r=n:("function"==typeof a&&(o=arguments[2],i=arguments[1],a=void 0),r={text:n,title:a,onOK:i,onCancel:o}),e.modal({text:r.text,title:r.title,buttons:[{text:t.buttonCancel,className:"default",onClick:r.onCancel},{text:t.buttonOK,className:"primary",onClick:r.onOK}]})},e.prompt=function(n,a,i,o,r){var s;"object"==typeof n?s=n:("function"==typeof a&&(r=arguments[3],o=arguments[2],i=arguments[1],a=void 0),s={text:n,title:a,input:r,onOK:i,onCancel:o,empty:!1});var c=e.modal({text:'<p class="weui-prompt-text">'+(s.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-input" value="'+(s.input||"")+'" />',title:s.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){e.closeModal(),s.onCancel&&s.onCancel.call(c)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=e("#weui-prompt-input").val();return s.empty||""!==t&&null!==t?(e.closeModal(),void(s.onOK&&s.onOK.call(c,t))):(c.find(".weui-prompt-input").focus()[0].select(),!1)}}]},function(){this.find(".weui-prompt-input").focus()[0].select()});return c},e.login=function(n,a,i,o,r,s){var c;"object"==typeof n?c=n:("function"==typeof a&&(s=arguments[4],r=arguments[3],o=arguments[2],i=arguments[1],a=void 0),c={text:n,title:a,username:r,password:s,onOK:i,onCancel:o});var l=e.modal({text:'<p class="weui-prompt-text">'+(c.text||"")+'</p><input type="text" class="weui-input weui-prompt-input" id="weui-prompt-username" value="'+(c.username||"")+'" placeholder="输入用户名" /><input type="password" class="weui-input weui-prompt-input" id="weui-prompt-password" value="'+(c.password||"")+'" placeholder="输入密码" />',title:c.title,autoClose:!1,buttons:[{text:t.buttonCancel,className:"default",onClick:function(){e.closeModal(),c.onCancel&&c.onCancel.call(l)}},{text:t.buttonOK,className:"primary",onClick:function(){var t=e("#weui-prompt-username").val(),n=e("#weui-prompt-password").val();return c.empty||""!==t&&null!==t?c.empty||""!==n&&null!==n?(e.closeModal(),void(c.onOK&&c.onOK.call(l,t,n))):(l.find("#weui-prompt-password").focus()[0].select(),!1):(l.find("#weui-prompt-username").focus()[0].select(),!1)}}]},function(){this.find("#weui-prompt-username").focus()[0].select()});return l},t=e.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0}}($),+function(e){"use strict";var t=function(t,n){n=n||"";var a=(e("<div class='weui-mask_transparent'></div>").appendTo(document.body),'<div class="weui-toast '+n+'">'+t+"</div>"),i=e(a).appendTo(document.body);i.show(),i.addClass("weui-toast--visible")},n=function(t){e(".weui-mask_transparent").remove(),e(".weui-toast--visible").removeClass("weui-toast--visible").transitionEnd(function(){var n=e(this);n.remove(),t&&t(n)})};e.toast=function(e,i,o){"function"==typeof i&&(o=i);var r,s="weui-icon-success-no-circle",c=a.duration;"cancel"==i?(r="weui-toast_cancel",s="weui-icon-cancel"):"forbidden"==i?(r="weui-toast--forbidden",s="weui-icon-warn"):"text"==i?r="weui-toast--text":"number"==typeof i&&(c=i),t('<i class="'+s+' weui-icon_toast"></i><p class="weui-toast_content">'+(e||"已经完成")+"</p>",r),setTimeout(function(){n(o)},c)},e.showLoading=function(e){var n='<div class="weui_loading">';n+='<i class="weui-loading weui-icon_toast"></i>',n+="</div>",n+='<p class="weui-toast_content">'+(e||"数据加载中")+"</p>",t(n,"weui_loading_toast")},e.hideLoading=function(){n()};var a=e.toast.prototype.defaults={duration:2500}}($),+function(e){"use strict";var t,n=function(t){var n=e("<div class='weui-mask weui-actions_mask'></div>").appendTo(document.body),a=t.actions||[],i=a.map(function(e,t){return'<div class="weui-actionsheet__cell '+(e.className||"")+'">'+e.text+"</div>"}).join(""),o="";t.title&&(o='<div class="weui-actionsheet__title">'+t.title+"</div>");var r='<div class="weui-actionsheet " id="weui-actionsheet">'+o+'<div class="weui-actionsheet__menu">'+i+'</div><div class="weui-actionsheet__action"><div class="weui-actionsheet__cell weui-actionsheet_cancel">取消</div></div></div>',s=e(r).appendTo(document.body);s.find(".weui-actionsheet__menu .weui-actionsheet__cell, .weui-actionsheet__action .weui-actionsheet__cell").each(function(n,i){e(i).click(function(){e.closeActions(),t.onClose&&t.onClose(),a[n]&&a[n].onClick&&a[n].onClick()})}),n.show(),s.show(),n.addClass("weui-mask--visible"),s.addClass("weui-actionsheet_toggle")},a=function(){e(".weui-mask").removeClass("weui-mask--visible").transitionEnd(function(){e(this).remove()}),e(".weui-actionsheet").removeClass("weui-actionsheet_toggle").transitionEnd(function(){e(this).remove()})};e.actions=function(a){a=e.extend({},t,a),n(a)},e.closeActions=function(){a()},e(document).on("click",".weui-actions_mask",function(){e.closeActions()});var t=e.actions.prototype.defaults={title:void 0,onClose:void 0}}($),+function(e){"use strict";var t=function(t){this.container=e(t),this.distance=50,this.attachEvents()};t.prototype.touchStart=function(t){if(!this.container.hasClass("refreshing")){var n=e.getTouchPosition(t);this.start=n,this.diffX=this.diffY=0}},t.prototype.touchMove=function(t){if(!this.container.hasClass("refreshing")){if(!this.start)return!1;if(!(this.container.scrollTop()>0)){var n=e.getTouchPosition(t);this.diffX=n.x-this.start.x,this.diffY=n.y-this.start.y,this.diffY<0||(this.container.addClass("touching"),t.preventDefault(),t.stopPropagation(),this.diffY=Math.pow(this.diffY,.8),this.container.css("transform","translate3d(0, "+this.diffY+"px, 0)"),this.diffY<this.distance?this.container.removeClass("pull-up").addClass("pull-down"):this.container.removeClass("pull-down").addClass("pull-up"))}}},t.prototype.touchEnd=function(){this.start=!1,this.diffY<=0||this.container.hasClass("refreshing")||(this.container.removeClass("touching"),this.container.removeClass("pull-down pull-up"),this.container.css("transform",""),Math.abs(this.diffY)<=this.distance||(this.container.addClass("refreshing"),this.container.trigger("pull-to-refresh")))},t.prototype.attachEvents=function(){var t=this.container;t.addClass("weui-pull-to-refresh"),t.on(e.touchEvents.start,e.proxy(this.touchStart,this)),t.on(e.touchEvents.move,e.proxy(this.touchMove,this)),t.on(e.touchEvents.end,e.proxy(this.touchEnd,this))};var n=function(e){new t(e)},a=function(t){e(t).removeClass("refreshing")};e.fn.pullToRefresh=function(){return this.each(function(){n(this)})},e.fn.pullToRefreshDone=function(){return this.each(function(){a(this)})}}($),+function(e){"use strict";var t=function(t,n){this.container=e(t),this.container.data("infinite",this),this.distance=n||50,this.attachEvents()};t.prototype.scroll=function(){var t=this.container,n=t.scrollHeight()-(e(window).height()+t.scrollTop());n<=this.distance&&t.trigger("infinite")},t.prototype.attachEvents=function(t){var n=this.container,a="BODY"===n[0].tagName.toUpperCase()?e(document):n;a[t?"off":"on"]("scroll",e.proxy(this.scroll,this))},t.prototype.detachEvents=function(e){this.attachEvents(!0)};e.fn.infinite=function(e){return this.each(function(){new t(this,e)})},e.fn.destroyInfinite=function(){return this.each(function(){var t=e(this).data("infinite");t&&t.detachEvents&&t.detachEvents()})}}($),+function(e){"use strict";var t="yb-footer__item--on",n=function(n){var a=e(n);if(!a.hasClass(t)){var i=a.data("view");i&&(a.parent().find("."+t).removeClass(t),a.addClass(t))}};e.yb_showTab=n}($),+function(e){"use strict";e(document).on("click touchstart",".weui-search-bar__label",function(t){e(t.target).parents(".weui-search-bar").addClass("weui-search-bar_focusing").find("input").focus()}).on("click",".weui-search-bar__cancel-btn",function(t){e(t.target).parents(".weui-search-bar").removeClass("weui-search-bar_focusing").find(".weui-search-bar__input").val("").blur()}).on("click",".weui-icon-clear",function(t){e(t.target).parents(".weui-search-bar").find(".weui-search-bar__input").val("").focus()})}($),function(e){"use strict";var t={},n=navigator.userAgent,a=n.match(/(Android);?[\s\/]+([\d.]+)?/),i=n.match(/(iPad).*OS\s([\d_]+)/),o=n.match(/(iPod)(.*OS\s([\d_]+))?/),r=!i&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(t.ios=t.android=t.iphone=t.ipad=t.androidChrome=!1,a&&(t.os="android",t.osVersion=a[2],t.android=!0,t.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(i||r||o)&&(t.os="ios",t.ios=!0),r&&!o&&(t.osVersion=r[2].replace(/_/g,"."),t.iphone=!0),i&&(t.osVersion=i[2].replace(/_/g,"."),t.ipad=!0),o&&(t.osVersion=o[3]?o[3].replace(/_/g,"."):null,t.iphone=!0),t.ios&&t.osVersion&&n.indexOf("Version/")>=0&&"10"===t.osVersion.split(".")[0]&&(t.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),t.webView=(r||i||o)&&n.match(/.*AppleWebKit(?!.*Safari)/i),t.os&&"ios"===t.os){var s=t.osVersion.split(".");t.minimalUi=!t.webView&&(o||r)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var c=e(window).width(),l=e(window).height();t.statusBar=!1,t.webView&&c*l===screen.width*screen.height?t.statusBar=!0:t.statusBar=!1;var p=[];if(t.pixelRatio=window.devicePixelRatio||1,p.push("pixel-ratio-"+Math.floor(t.pixelRatio)),t.pixelRatio>=2&&p.push("retina"),t.os&&(p.push(t.os,t.os+"-"+t.osVersion.split(".")[0],t.os+"-"+t.osVersion.replace(/\./g,"-")),"ios"===t.os))for(var u=parseInt(t.osVersion.split(".")[0],10),d=u-1;d>=6;d--)p.push("ios-gt-"+d);t.statusBar?p.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),p.length>0&&e("html").addClass(p.join(" ")),e.device=t}($),+function(e){"use strict";var t=function(t){function n(){var t=!1;return c.params.convertToPopover||c.params.onlyInPopover?(!c.inline&&c.params.input&&(c.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function a(){return!!(c.opened&&c.container&&c.container.length>0&&c.container.parents(".popover").length>0)}function i(){if(c.opened)for(var e=0;e<c.cols.length;e++)c.cols[e].divider||(c.cols[e].calcSize(),c.cols[e].setValue(c.cols[e].value,0,!1))}function o(e){if(e.preventDefault(),!c.opened&&(c.open(),c.params.scrollToInput&&!n())){var t=c.input.parents(".content");if(0===t.length)return;var a,i=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-i-c.container.height(),s=t[0].scrollHeight-i-c.container.height(),l=c.input.offset().top-i+c.input[0].offsetHeight;if(l>r){var p=t.scrollTop()+l-r;p+r>s&&(a=p+r-s+o,r===s&&(a=c.container.height()),t.css({"padding-bottom":a+"px"})),t.scrollTop(p,300)}}}function r(t){a()||(c.input&&c.input.length>0?t.target!==c.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&c.close():0===e(t.target).parents(".weui-picker-modal").length&&c.close())}function s(){c.opened=!1,c.input&&c.input.length>0&&c.input.parents(".page-content").css({"padding-bottom":""}),c.params.onClose&&c.params.onClose(c),c.container.find(".picker-items-col").each(function(){c.destroyPickerCol(this)})}var c=this,l={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,toolbar:!0,toolbarCloseText:"完成",title:"请选择",toolbarTemplate:'<div class="toolbar">          <div class="toolbar-inner">          <a href="javascript:;" class="picker-button close-picker">{{closeText}}</a>          <h1 class="title">{{title}}</h1>          </div>          </div>'};t=t||{};for(var p in l)"undefined"==typeof t[p]&&(t[p]=l[p]);c.params=t,c.cols=[],c.initialized=!1,c.inline=!!c.params.container;var u=e.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!e.device.android;return c.setValue=function(e,t){for(var n=0,a=0;a<c.cols.length;a++)c.cols[a]&&!c.cols[a].divider&&(c.cols[a].setValue(e[n],t),n++)},c.updateValue=function(){for(var t=[],n=[],a=0;a<c.cols.length;a++)c.cols[a].divider||(t.push(c.cols[a].value),n.push(c.cols[a].displayValue));t.indexOf(void 0)>=0||(c.value=t,c.displayValue=n,c.params.onChange&&c.params.onChange(c,c.value,c.displayValue),c.input&&c.input.length>0&&(e(c.input).val(c.params.formatValue?c.params.formatValue(c,c.value,c.displayValue):c.value.join(" ")),e(c.input).trigger("change")))},c.initPickerCol=function(t,n){function a(){w=e.requestAnimationFrame(function(){d.updateItems(void 0,void 0,0),a()})}function i(t){if(!k&&!y){t.preventDefault(),y=!0;var n=e.getTouchPosition(t);x=C=n.y,T=(new Date).getTime(),P=!0,M=D=e.getTranslate(d.wrapper[0],"y")}}function o(t){if(y){t.preventDefault(),P=!1;var n=e.getTouchPosition(t);C=n.y,k||(e.cancelAnimationFrame(w),k=!0,M=D=e.getTranslate(d.wrapper[0],"y"),d.wrapper.transition(0)),t.preventDefault();var a=C-x;D=M+a,_=void 0,D<v&&(D=v-Math.pow(v-D,.8),_="min"),D>g&&(D=g+Math.pow(D-g,.8),_="max"),d.wrapper.transform("translate3d(0,"+D+"px,0)"),d.updateItems(void 0,D,0,c.params.updateValuesOnTouchmove),E=D-O||D,H=(new Date).getTime(),O=D}}function r(t){if(!y||!k)return void(y=k=!1);y=k=!1,d.wrapper.transition(""),_&&("min"===_?d.wrapper.transform("translate3d(0,"+v+"px,0)"):d.wrapper.transform("translate3d(0,"+g+"px,0)")),b=(new Date).getTime();var n,i;b-T>300?i=D:(n=Math.abs(E/(b-H)),i=D+E*c.params.momentumRatio),i=Math.max(Math.min(i,g),v);var o=-Math.floor((i-g)/f);c.params.freeMode||(i=-o*f+g),d.wrapper.transform("translate3d(0,"+parseInt(i,10)+"px,0)"),d.updateItems(o,i,"",!0),c.params.updateValuesOnMomentum&&(a(),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)})),setTimeout(function(){P=!0},100)}function s(t){if(P){e.cancelAnimationFrame(w);var n=e(this).attr("data-picker-value");d.setValue(n)}}var l=e(t),p=l.index(),d=c.cols[p];if(!d.divider){d.container=l,d.wrapper=d.container.find(".picker-items-col-wrapper"),d.items=d.wrapper.find(".picker-item");var h,f,m,v,g;d.replaceValues=function(e,t){d.destroyEvents(),d.values=e,d.displayValues=t;var n=c.columnHTML(d,!0);d.wrapper.html(n),d.items=d.wrapper.find(".picker-item"),d.calcSize(),d.setValue(d.values[0]||"",0,!0),d.initEvents()},d.calcSize=function(){if(d.values.length){c.params.rotateEffect&&(d.container.removeClass("picker-items-col-absolute"),d.width||d.container.css({width:""}));var t,n;t=0,n=d.container[0].offsetHeight,h=d.wrapper[0].offsetHeight,f=d.items[0].offsetHeight,m=f*d.items.length,v=n/2-m+f/2,g=n/2-f/2,d.width&&(t=d.width,parseInt(t,10)===t&&(t+="px"),d.container.css({width:t})),c.params.rotateEffect&&(d.width||(d.items.each(function(){var n=e(this);n.css({width:"auto"}),t=Math.max(t,n[0].offsetWidth),n.css({width:""})}),d.container.css({width:t+2+"px"})),d.container.addClass("picker-items-col-absolute"))}},d.calcSize(),d.wrapper.transform("translate3d(0,"+g+"px,0)").transition(0);var w;d.setValue=function(t,n,i){"undefined"==typeof n&&(n="");var o=d.wrapper.find('.picker-item[data-picker-value="'+t+'"]').index();if("undefined"==typeof o||o===-1)return void(d.value=d.displayValue=t);var r=-o*f+g;d.wrapper.transition(n),d.wrapper.transform("translate3d(0,"+r+"px,0)"),c.params.updateValuesOnMomentum&&d.activeIndex&&d.activeIndex!==o&&(e.cancelAnimationFrame(w),d.wrapper.transitionEnd(function(){e.cancelAnimationFrame(w)}),a()),d.updateItems(o,r,n,i)},d.updateItems=function(t,n,a,i){"undefined"==typeof n&&(n=e.getTranslate(d.wrapper[0],"y")),"undefined"==typeof t&&(t=-Math.round((n-g)/f)),t<0&&(t=0),t>=d.items.length&&(t=d.items.length-1);var o=d.activeIndex;d.activeIndex=t,d.wrapper.find(".picker-selected").removeClass("picker-selected"),c.params.rotateEffect&&d.items.transition(a);var r=d.items.eq(t).addClass("picker-selected").transform("");if((i||"undefined"==typeof i)&&(d.value=r.attr("data-picker-value"),d.displayValue=d.displayValues?d.displayValues[t]:d.value,o!==t&&(d.onChange&&d.onChange(c,d.value,d.displayValue),c.updateValue())),c.params.rotateEffect){(n-(Math.floor((n-g)/f)*f+g))/f;d.items.each(function(){var t=e(this),a=t.index()*f,i=g-n,o=a-i,r=o/f,s=Math.ceil(d.height/f/2)+1,c=-18*r;c>180&&(c=180),c<-180&&(c=-180),Math.abs(r)>s?t.addClass("picker-item-far"):t.removeClass("picker-item-far"),t.transform("translate3d(0, "+(-n+g)+"px, "+(u?-110:0)+"px) rotateX("+c+"deg)")})}},n&&d.updateItems(0,g,0);var y,k,x,C,T,b,M,_,D,O,E,H,P=!0;d.initEvents=function(t){var n=t?"off":"on";d.container[n](e.touchEvents.start,i),d.container[n](e.touchEvents.move,o),d.container[n](e.touchEvents.end,r),d.items[n]("click",s)},d.destroyEvents=function(){d.initEvents(!0)},d.container[0].f7DestroyPickerCol=function(){d.destroyEvents()},d.initEvents()}},c.destroyPickerCol=function(t){t=e(t),"f7DestroyPickerCol"in t[0]&&t[0].f7DestroyPickerCol()},e(window).on("resize",i),c.columnHTML=function(e,t){var n="",a="";if(e.divider)a+='<div class="picker-items-col picker-items-col-divider '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'">'+e.content+"</div>";else{for(var i=0;i<e.values.length;i++)n+='<div class="picker-item" data-picker-value="'+e.values[i]+'">'+(e.displayValues?e.displayValues[i]:e.values[i])+"</div>";a+='<div class="picker-items-col '+(e.textAlign?"picker-items-col-"+e.textAlign:"")+" "+(e.cssClass||"")+'"><div class="picker-items-col-wrapper">'+n+"</div></div>"}return t?n:a},c.layout=function(){var e,t="",n="";c.cols=[];var a="";for(e=0;e<c.params.cols.length;e++){var i=c.params.cols[e];a+=c.columnHTML(c.params.cols[e]),c.cols.push(i)}n="weui-picker-modal picker-columns "+(c.params.cssClass||"")+(c.params.rotateEffect?" picker-3d":"")+(1===c.params.cols.length?" picker-columns-single":""),t='<div class="'+n+'">'+(c.params.toolbar?c.params.toolbarTemplate.replace(/{{closeText}}/g,c.params.toolbarCloseText).replace(/{{title}}/g,c.params.title):"")+'<div class="picker-modal-inner picker-items">'+a+'<div class="picker-center-highlight"></div></div></div>',c.pickerHTML=t},c.params.input&&(c.input=e(c.params.input),c.input.length>0&&(c.params.inputReadOnly&&c.input.prop("readOnly",!0),c.inline||c.input.on("click",o),c.params.inputReadOnly&&c.input.on("focus mousedown",function(e){e.preventDefault()}))),c.inline||e("html").on("click",r),c.opened=!1,c.open=function(){var t=n();c.opened||(c.layout(),t?(c.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+c.pickerHTML+"</div></div>",c.popover=e.popover(c.pickerHTML,c.params.input,!0),c.container=e(c.popover).find(".weui-picker-modal"),e(c.popover).on("close",function(){s()})):c.inline?(c.container=e(c.pickerHTML),c.container.addClass("picker-modal-inline"),e(c.params.container).append(c.container)):(c.container=e(e.openPicker(c.pickerHTML)),e(c.container).on("close",function(){s()})),c.container[0].f7Picker=c,c.container.find(".picker-items-col").each(function(){var e=!0;(!c.initialized&&c.params.value||c.initialized&&c.value)&&(e=!1),c.initPickerCol(this,e)}),c.initialized?c.value&&c.setValue(c.value,0):c.params.value&&c.setValue(c.params.value,0)),c.opened=!0,c.initialized=!0,c.params.onOpen&&c.params.onOpen(c)},c.close=function(t){if(c.opened&&!c.inline)return a()?void e.closePicker(c.popover):void e.closePicker(c.container)},c.destroy=function(){c.close(),c.params.input&&c.input.length>0&&(c.input.off("click focus",o),e(c.input).data("picker",null)),e("html").off("click",r),e(window).off("resize",i)},c.inline&&c.open(),c};e(document).on("click",".close-picker",function(){var t=e(".weui-picker-modal.weui-picker-modal-visible");t.length>0&&e.closePicker(t)}),e(document).on(e.touchEvents.move,".picker-modal-inner",function(e){e.preventDefault()}),e.openPicker=function(t,n,a){"function"==typeof n&&(a=n,n=void 0),e.closePicker();var i=e("<div class='weui-picker-container "+(n||"")+"'></div>").appendTo(document.body);i.show(),i.addClass("weui-picker-container-visible");var o=e(t).appendTo(i);return o.width(),o.addClass("weui-picker-modal-visible"),a&&i.on("close",a),o},e.updatePicker=function(t){var n=e(".weui-picker-container-visible");if(!n[0])return!1;n.html("");var a=e(t).appendTo(n);return a.addClass("weui-picker-modal-visible"),a},e.closePicker=function(t,n){"function"==typeof t&&(n=t),e(".weui-picker-modal-visible").removeClass("weui-picker-modal-visible").transitionEnd(function(){e(this).parent().remove(),n&&n()}).trigger("close")},e.fn.picker=function(n){var a=arguments;return this.each(function(){if(this){var i=e(this),o=i.data("picker");if(!o){n=n||{};var r=i.val();void 0===n.value&&""!==r&&(n.value=n.cols&&n.cols.length>1?r.split(" "):[r]);var s=e.extend({input:this},n);o=new t(s),i.data("picker",o)}"string"==typeof n&&o[n].apply(o,Array.prototype.slice.call(a,1))}})}}($),+function(e){"use strict";var t,n=[],a=function(t,a){this.config=a,this.data={values:"",titles:"",origins:[],length:0},this.$input=e(t),this.$input.prop("readOnly",!0),this.initConfig(),a=this.config,this.$input.click(e.proxy(this.open,this)),n.push(this)};a.prototype.initConfig=function(){this.config=e.extend({},t,this.config);var n=this.config;n.items&&n.items.length&&(n.items=n.items.map(function(e,t){return"string"==typeof e?{title:e,value:e}:e}),this.tpl=e.t7.compile("<div class='weui-picker-modal weui-select-modal'>"+n.toolbarTemplate+(n.multi?n.checkboxTemplate:n.radioTemplate)+"</div>"),void 0!==n.input&&this.$input.val(n.input),this.parseInitValue(),this._init=!0)},a.prototype.updateInputValue=function(e,t){var n,a;this.config.multi?(n=e.join(this.config.split),a=t.join(this.config.split)):(n=e[0],a=t[0]);var i=[];this.config.items.forEach(function(t){e.each(function(e,n){t.value==n&&i.push(t)})}),this.$input.val(a).data("values",n),this.$input.attr("value",a).attr("data-values",n);var o={values:n,titles:a,valuesArray:e,titlesArray:t,origins:i,length:i.length};this.data=o,this.$input.trigger("change",o),this.config.onChange&&this.config.onChange.call(this,o)},a.prototype.parseInitValue=function(){var e=this.$input.val(),t=this.config.items;if(this._init||void 0!==e&&null!=e&&""!==e)for(var n=this.config.multi?e.split(this.config.split):[e],a=0;a<t.length;a++){t[a].checked=!1;for(var i=0;i<n.length;i++)t[a].title===n[i]&&(t[a].checked=!0)}},a.prototype._bind=function(t){var n=this,a=this.config;t.on("change",function(i){var o=t.find("input:checked"),r=o.map(function(){return e(this).val()}),s=o.map(function(){return e(this).data("title")});n.updateInputValue(r,s),a.autoClose&&!a.multi&&n.close()}).on("click",".close-select",function(){n.close()})},a.prototype.update=function(t){this.config=e.extend({},this.config,t),this.initConfig(),this._open&&this._bind(e.updatePicker(this.getHTML()))},a.prototype.open=function(t,a){if(!this._open){for(var i=0;i<n.length;i++){var o=n[i];if(o!==this&&o._open&&!o.close())return!1}this.parseInitValue();
var r=this.config,s=this.dialog=e.openPicker(this.getHTML());this._bind(s),this._open=!0,r.onOpen&&r.onOpen(this)}},a.prototype.close=function(t,n){if(!this._open)return!1;var a=this,i=this.config.beforeClose;if(!n){if(i&&"function"==typeof i&&i.call(this,this.data.values,this.data.titles)===!1)return!1;if(this.config.multi){if(void 0!==this.config.min&&this.data.length<this.config.min)return e.toast("请至少选择"+this.config.min+"个","text"),!1;if(void 0!==this.config.max&&this.data.length>this.config.max)return e.toast("最多只能选择"+this.config.max+"个","text"),!1}}return e.closePicker(function(){a.onClose(),t&&t()}),!0},a.prototype.onClose=function(){this._open=!1,this.config.onClose&&this.config.onClose(this)},a.prototype.getHTML=function(e){var t=this.config;return this.tpl({items:t.items,title:t.title,closeText:t.closeText})},e.fn.select=function(t,n){return this.each(function(){var i=e(this);i.data("weui-select")||i.data("weui-select",new a(this,t));var o=i.data("weui-select");return"string"==typeof t&&o[t].call(o,n),o})},t=e.fn.select.prototype.defaults={items:[],input:void 0,title:"请选择",multi:!1,closeText:"确定",autoClose:!0,onChange:void 0,beforeClose:void 0,onClose:void 0,onOpen:void 0,split:",",min:void 0,max:void 0,toolbarTemplate:'<div class="toolbar">      <div class="toolbar-inner">      <a href="javascript:;" class="picker-button close-select">{{closeText}}</a>      <h1 class="title">{{title}}</h1>      </div>      </div>',radioTemplate:'<div class="weui-cells weui-cells_radio">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="radio" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}">            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>',checkboxTemplate:'<div class="weui-cells weui-cells_checkbox">        {{#items}}        <label class="weui-cell weui-check_label" for="weui-select-id-{{this.title}}">          <div class="weui-cell__bd weui-cell_primary">            <p>{{this.title}}</p>          </div>          <div class="weui-cell__ft">            <input type="checkbox" class="weui-check" name="weui-select" id="weui-select-id-{{this.title}}" value="{{this.value}}" {{#if this.checked}}checked="checked"{{/if}} data-title="{{this.title}}" >            <span class="weui-icon-checked"></span>          </div>        </label>        {{/items}}      </div>'}}($),+function(e){"use strict";var t,n=!1,a=function(e,t){var e=new Date(e),t=new Date(t);return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},i=function(i){function o(){var t=!1;return u.params.convertToPopover||u.params.onlyInPopover?(!u.inline&&u.params.input&&(u.params.onlyInPopover?t=!0:e.device.ios?t=!!e.device.ipad:e(window).width()>=768&&(t=!0)),t):t}function r(){return!!(u.opened&&u.container&&u.container.length>0&&u.container.parents(".popover").length>0)}function s(e){e=new Date(e);var t=e.getFullYear(),n=e.getMonth(),a=n+1,i=e.getDate(),o=e.getDay();return u.params.dateFormat.replace(/yyyy/g,t).replace(/yy/g,(t+"").substring(2)).replace(/mm/g,a<10?"0"+a:a).replace(/m/g,a).replace(/MM/g,u.params.monthNames[n]).replace(/M/g,u.params.monthNamesShort[n]).replace(/dd/g,i<10?"0"+i:i).replace(/d/g,i).replace(/DD/g,u.params.dayNames[o]).replace(/D/g,u.params.dayNamesShort[o])}function c(e){if(e.preventDefault(),!u.opened&&(u.open(),u.params.scrollToInput&&!o())){var t=u.input.parents(".page-content");if(0===t.length)return;var n,a=parseInt(t.css("padding-top"),10),i=parseInt(t.css("padding-bottom"),10),r=t[0].offsetHeight-a-u.container.height(),s=t[0].scrollHeight-a-u.container.height(),c=u.input.offset().top-a+u.input[0].offsetHeight;if(c>r){var l=t.scrollTop()+c-r;l+r>s&&(n=l+r-s+i,r===s&&(n=u.container.height()),t.css({"padding-bottom":n+"px"})),t.scrollTop(l,300)}}}function l(t){r()||(u.input&&u.input.length>0?t.target!==u.input[0]&&0===e(t.target).parents(".weui-picker-modal").length&&u.close():0===e(t.target).parents(".weui-picker-modal").length&&u.close())}function p(){u.opened=!1,u.input&&u.input.length>0&&u.input.parents(".page-content").css({"padding-bottom":""}),u.params.onClose&&u.params.onClose(u),u.destroyCalendarEvents()}var u=this;i=i||{};for(var d in t)"undefined"==typeof i[d]&&(i[d]=t[d]);u.params=i,u.initialized=!1,u.inline=!!u.params.container,u.isH="horizontal"===u.params.direction;var h=u.isH&&n?-1:1;return u.animating=!1,u.addValue=function(e){if(u.params.multiple){u.value||(u.value=[]);for(var t,n=0;n<u.value.length;n++)a(e,u.value[n])&&(t=n);"undefined"==typeof t?u.value.push(e):u.value.splice(t,1),u.updateValue()}else u.value=[e],u.updateValue()},u.setValue=function(e){var t=new Date(e[0]);u.setYearMonth(t.getFullYear(),t.getMonth()),u.addValue(+t)},u.updateValue=function(){u.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var t,n;for(t=0;t<u.value.length;t++){var a=new Date(u.value[t]);u.wrapper.find('.picker-calendar-day[data-date="'+a.getFullYear()+"-"+a.getMonth()+"-"+a.getDate()+'"]').addClass("picker-calendar-day-selected")}if(u.params.onChange&&u.params.onChange(u,u.value.map(s),u.value.map(function(e){return+new Date("string"==typeof e?e.split(/\D/).filter(function(e){return!!e}).join("-"):e)})),u.input&&u.input.length>0){if(u.params.formatValue)n=u.params.formatValue(u,u.value);else{for(n=[],t=0;t<u.value.length;t++)n.push(s(u.value[t]));n=n.join(", ")}e(u.input).val(n),e(u.input).trigger("change")}},u.initCalendarEvents=function(){function t(t){if(!s&&!r){r=!0;var n=e.getTouchPosition(t);c=d=n.x,l=d=n.y,f=(new Date).getTime(),k=0,T=!0,C=void 0,v=g=u.monthsTranslate}}function a(t){if(r){var n=e.getTouchPosition(t);if(p=n.x,d=n.y,"undefined"==typeof C&&(C=!!(C||Math.abs(d-l)>Math.abs(p-c))),u.isH&&C)return void(r=!1);if(t.preventDefault(),u.animating)return void(r=!1);T=!1,s||(s=!0,w=u.wrapper[0].offsetWidth,y=u.wrapper[0].offsetHeight,u.wrapper.transition(0)),t.preventDefault(),x=u.isH?p-c:d-l,k=x/(u.isH?w:y),g=100*(u.monthsTranslate*h+k),u.wrapper.transform("translate3d("+(u.isH?g:0)+"%, "+(u.isH?0:g)+"%, 0)")}}function i(e){return r&&s?(r=s=!1,m=(new Date).getTime(),m-f<300?Math.abs(x)<10?u.resetMonth():x>=10?n?u.nextMonth():u.prevMonth():n?u.prevMonth():u.nextMonth():k<=-.5?n?u.prevMonth():u.nextMonth():k>=.5?n?u.nextMonth():u.prevMonth():u.resetMonth(),void setTimeout(function(){T=!0},100)):void(r=s=!1)}function o(t){if(T){var n=e(t.target).parents(".picker-calendar-day");if(0===n.length&&e(t.target).hasClass("picker-calendar-day")&&(n=e(t.target)),0!==n.length&&!n.hasClass("picker-calendar-day-disabled")){n.hasClass("picker-calendar-day-next")&&u.nextMonth(),n.hasClass("picker-calendar-day-prev")&&u.prevMonth();var a=n.attr("data-year"),i=n.attr("data-month"),o=n.attr("data-day");u.params.onDayClick&&u.params.onDayClick(u,n[0],a,i,o),u.addValue(new Date(a,i,o).getTime()),u.params.closeOnSelect&&!u.params.multiple&&u.close()}}}var r,s,c,l,p,d,f,m,v,g,w,y,k,x,C,T=!0;u.container.find(".picker-calendar-prev-month").on("click",u.prevMonth),u.container.find(".picker-calendar-next-month").on("click",u.nextMonth),u.container.find(".picker-calendar-prev-year").on("click",u.prevYear),u.container.find(".picker-calendar-next-year").on("click",u.nextYear),u.wrapper.on("click",o),u.params.touchMove&&(u.wrapper.on(e.touchEvents.start,t),u.wrapper.on(e.touchEvents.move,a),u.wrapper.on(e.touchEvents.end,i)),u.container[0].f7DestroyCalendarEvents=function(){u.container.find(".picker-calendar-prev-month").off("click",u.prevMonth),u.container.find(".picker-calendar-next-month").off("click",u.nextMonth),u.container.find(".picker-calendar-prev-year").off("click",u.prevYear),u.container.find(".picker-calendar-next-year").off("click",u.nextYear),u.wrapper.off("click",o),u.params.touchMove&&(u.wrapper.off(e.touchEvents.start,t),u.wrapper.off(e.touchEvents.move,a),u.wrapper.off(e.touchEvents.end,i))}},u.destroyCalendarEvents=function(e){"f7DestroyCalendarEvents"in u.container[0]&&u.container[0].f7DestroyCalendarEvents()},u.daysInMonth=function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},u.monthHTML=function(e,t){e=new Date(e);var n=e.getFullYear(),a=e.getMonth();e.getDate();"next"===t&&(e=11===a?new Date(n+1,0):new Date(n,a+1,1)),"prev"===t&&(e=0===a?new Date(n-1,11):new Date(n,a-1,1)),"next"!==t&&"prev"!==t||(a=e.getMonth(),n=e.getFullYear());var i=u.daysInMonth(new Date(e.getFullYear(),e.getMonth()).getTime()-864e6),o=u.daysInMonth(e),r=new Date(e.getFullYear(),e.getMonth()).getDay();0===r&&(r=7);var s,c,l,p=[],d=6,h=7,f="",m=0+(u.params.firstDay-1),v=(new Date).setHours(0,0,0,0),g=u.params.minDate?new Date(u.params.minDate).getTime():null,w=u.params.maxDate?new Date(u.params.maxDate).getTime():null;if(u.value&&u.value.length)for(c=0;c<u.value.length;c++)p.push(new Date(u.value[c]).setHours(0,0,0,0));for(c=1;c<=d;c++){var y="";for(l=1;l<=h;l++){var k=l;m++;var x=m-r,C="";x<0?(x=i+x+1,C+=" picker-calendar-day-prev",s=new Date(a-1<0?n-1:n,a-1<0?11:a-1,x).getTime()):(x+=1,x>o?(x-=o,C+=" picker-calendar-day-next",s=new Date(a+1>11?n+1:n,a+1>11?0:a+1,x).getTime()):s=new Date(n,a,x).getTime()),s===v&&(C+=" picker-calendar-day-today"),p.indexOf(s)>=0&&(C+=" picker-calendar-day-selected"),u.params.weekendDays.indexOf(k-1)>=0&&(C+=" picker-calendar-day-weekend"),(g&&s<g||w&&s>w)&&(C+=" picker-calendar-day-disabled"),s=new Date(s);var T=s.getFullYear(),b=s.getMonth();y+='<div data-year="'+T+'" data-month="'+b+'" data-day="'+x+'" class="picker-calendar-day'+C+'" data-date="'+(T+"-"+b+"-"+x)+'"><span>'+x+"</span></div>"}f+='<div class="picker-calendar-row">'+y+"</div>"}return f='<div class="picker-calendar-month" data-year="'+n+'" data-month="'+a+'">'+f+"</div>"},u.animating=!1,u.updateCurrentMonthYear=function(e){"undefined"==typeof e?(u.currentMonth=parseInt(u.months.eq(1).attr("data-month"),10),u.currentYear=parseInt(u.months.eq(1).attr("data-year"),10)):(u.currentMonth=parseInt(u.months.eq("next"===e?u.months.length-1:0).attr("data-month"),10),u.currentYear=parseInt(u.months.eq("next"===e?u.months.length-1:0).attr("data-year"),10)),u.container.find(".current-month-value").text(u.params.monthNames[u.currentMonth]),u.container.find(".current-year-value").text(u.currentYear)},u.onMonthChangeStart=function(e){u.updateCurrentMonthYear(e),u.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t="next"===e?u.months.length-1:0;u.months.eq(t).addClass("picker-calendar-month-current"),u.months.eq("next"===e?t-1:t+1).addClass("next"===e?"picker-calendar-month-prev":"picker-calendar-month-next"),u.params.onMonthYearChangeStart&&u.params.onMonthYearChangeStart(u,u.currentYear,u.currentMonth)},u.onMonthChangeEnd=function(e,t){u.animating=!1;var n,a,i;u.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof e&&(e="next",t=!0),t?(u.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),a=u.monthHTML(new Date(u.currentYear,u.currentMonth),"prev"),n=u.monthHTML(new Date(u.currentYear,u.currentMonth),"next")):i=u.monthHTML(new Date(u.currentYear,u.currentMonth),e),("next"===e||t)&&u.wrapper.append(i||n),("prev"===e||t)&&u.wrapper.prepend(i||a),u.months=u.wrapper.find(".picker-calendar-month"),u.setMonthsTranslate(u.monthsTranslate),u.params.onMonthAdd&&u.params.onMonthAdd(u,"next"===e?u.months.eq(u.months.length-1)[0]:u.months.eq(0)[0]),u.params.onMonthYearChangeEnd&&u.params.onMonthYearChangeEnd(u,u.currentYear,u.currentMonth)},u.setMonthsTranslate=function(e){e=e||u.monthsTranslate||0,"undefined"==typeof u.monthsTranslate&&(u.monthsTranslate=e),u.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var t=100*-(e+1)*h,n=100*-e*h,a=100*-(e-1)*h;u.months.eq(0).transform("translate3d("+(u.isH?t:0)+"%, "+(u.isH?0:t)+"%, 0)").addClass("picker-calendar-month-prev"),u.months.eq(1).transform("translate3d("+(u.isH?n:0)+"%, "+(u.isH?0:n)+"%, 0)").addClass("picker-calendar-month-current"),u.months.eq(2).transform("translate3d("+(u.isH?a:0)+"%, "+(u.isH?0:a)+"%, 0)").addClass("picker-calendar-month-next")},u.nextMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",u.params.animate||(t=0));var n=parseInt(u.months.eq(u.months.length-1).attr("data-month"),10),a=parseInt(u.months.eq(u.months.length-1).attr("data-year"),10),i=new Date(a,n),o=i.getTime(),r=!u.animating;if(u.params.maxDate&&o>new Date(u.params.maxDate).getTime())return u.resetMonth();if(u.monthsTranslate--,n===u.currentMonth){var s=100*-u.monthsTranslate*h,c=e(u.monthHTML(o,"next")).transform("translate3d("+(u.isH?s:0)+"%, "+(u.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next");u.wrapper.append(c[0]),u.months=u.wrapper.find(".picker-calendar-month"),u.params.onMonthAdd&&u.params.onMonthAdd(u,u.months.eq(u.months.length-1)[0])}u.animating=!0,u.onMonthChangeStart("next");var l=100*u.monthsTranslate*h;u.wrapper.transition(t).transform("translate3d("+(u.isH?l:0)+"%, "+(u.isH?0:l)+"%, 0)"),r&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd("next")}),u.params.animate||u.onMonthChangeEnd("next")},u.prevMonth=function(t){"undefined"!=typeof t&&"object"!=typeof t||(t="",u.params.animate||(t=0));var n=parseInt(u.months.eq(0).attr("data-month"),10),a=parseInt(u.months.eq(0).attr("data-year"),10),i=new Date(a,n+1,(-1)),o=i.getTime(),r=!u.animating;if(u.params.minDate&&o<new Date(u.params.minDate).getTime())return u.resetMonth();if(u.monthsTranslate++,n===u.currentMonth){var s=100*-u.monthsTranslate*h,c=e(u.monthHTML(o,"prev")).transform("translate3d("+(u.isH?s:0)+"%, "+(u.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev");u.wrapper.prepend(c[0]),u.months=u.wrapper.find(".picker-calendar-month"),u.params.onMonthAdd&&u.params.onMonthAdd(u,u.months.eq(0)[0])}u.animating=!0,u.onMonthChangeStart("prev");var l=100*u.monthsTranslate*h;u.wrapper.transition(t).transform("translate3d("+(u.isH?l:0)+"%, "+(u.isH?0:l)+"%, 0)"),r&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd("prev")}),u.params.animate||u.onMonthChangeEnd("prev")},u.resetMonth=function(e){"undefined"==typeof e&&(e="");var t=100*u.monthsTranslate*h;u.wrapper.transition(e).transform("translate3d("+(u.isH?t:0)+"%, "+(u.isH?0:t)+"%, 0)")},u.setYearMonth=function(e,t,n){"undefined"==typeof e&&(e=u.currentYear),"undefined"==typeof t&&(t=u.currentMonth),"undefined"!=typeof n&&"object"!=typeof n||(n="",u.params.animate||(n=0));var a;if(a=e<u.currentYear?new Date(e,t+1,(-1)).getTime():new Date(e,t).getTime(),u.params.maxDate&&a>new Date(u.params.maxDate).getTime())return!1;if(u.params.minDate&&a<new Date(u.params.minDate).getTime())return!1;var i=new Date(u.currentYear,u.currentMonth).getTime(),o=a>i?"next":"prev",r=u.monthHTML(new Date(e,t));u.monthsTranslate=u.monthsTranslate||0;var s,c,l=u.monthsTranslate,p=!u.animating;a>i?(u.monthsTranslate--,u.animating||u.months.eq(u.months.length-1).remove(),u.wrapper.append(r),u.months=u.wrapper.find(".picker-calendar-month"),s=100*-(l-1)*h,u.months.eq(u.months.length-1).transform("translate3d("+(u.isH?s:0)+"%, "+(u.isH?0:s)+"%, 0)").addClass("picker-calendar-month-next")):(u.monthsTranslate++,u.animating||u.months.eq(0).remove(),u.wrapper.prepend(r),u.months=u.wrapper.find(".picker-calendar-month"),s=100*-(l+1)*h,u.months.eq(0).transform("translate3d("+(u.isH?s:0)+"%, "+(u.isH?0:s)+"%, 0)").addClass("picker-calendar-month-prev")),u.params.onMonthAdd&&u.params.onMonthAdd(u,"next"===o?u.months.eq(u.months.length-1)[0]:u.months.eq(0)[0]),u.animating=!0,u.onMonthChangeStart(o),c=100*u.monthsTranslate*h,u.wrapper.transition(n).transform("translate3d("+(u.isH?c:0)+"%, "+(u.isH?0:c)+"%, 0)"),p&&u.wrapper.transitionEnd(function(){u.onMonthChangeEnd(o,!0)}),u.params.animate||u.onMonthChangeEnd(o)},u.nextYear=function(){u.setYearMonth(u.currentYear+1)},u.prevYear=function(){u.setYearMonth(u.currentYear-1)},u.layout=function(){var e,t="",n="",a=u.value&&u.value.length?u.value[0]:(new Date).setHours(0,0,0,0),i=u.monthHTML(a,"prev"),o=u.monthHTML(a),r=u.monthHTML(a,"next"),s='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(i+o+r)+"</div></div>",c="";if(u.params.weekHeader){for(e=0;e<7;e++){var l=e+u.params.firstDay>6?e-7+u.params.firstDay:e+u.params.firstDay,p=u.params.dayNamesShort[l];c+='<div class="picker-calendar-week-day '+(u.params.weekendDays.indexOf(l)>=0?"picker-calendar-week-day-weekend":"")+'"> '+p+"</div>"}c='<div class="picker-calendar-week-days">'+c+"</div>"}n="weui-picker-calendar "+(u.params.cssClass||""),u.inline||(n="weui-picker-modal "+n);var d=u.params.toolbar?u.params.toolbarTemplate.replace(/{{closeText}}/g,u.params.toolbarCloseText):"";u.params.toolbar&&(d=u.params.toolbarTemplate.replace(/{{closeText}}/g,u.params.toolbarCloseText).replace(/{{monthPicker}}/g,u.params.monthPicker?u.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,u.params.yearPicker?u.params.yearPickerTemplate:"")),t='<div class="'+n+'">'+d+'<div class="picker-modal-inner">'+c+s+"</div></div>",u.pickerHTML=t},u.params.input&&(u.input=e(u.params.input),u.input.length>0&&(u.params.inputReadOnly&&u.input.prop("readOnly",!0),u.inline||u.input.on("click",c),u.params.inputReadOnly&&u.input.on("focus mousedown",function(e){e.preventDefault()}))),u.inline||e(document).on("click touchend",l),u.opened=!1,u.open=function(){var t=o()&&!1,n=!1;u.opened||(u.value||u.params.value&&(u.value=u.params.value,n=!0),u.layout(),t?(u.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+u.pickerHTML+"</div></div>",u.popover=e.popover(u.pickerHTML,u.params.input,!0),u.container=e(u.popover).find(".weui-picker-modal"),e(u.popover).on("close",function(){p()})):u.inline?(u.container=e(u.pickerHTML),u.container.addClass("picker-modal-inline"),e(u.params.container).append(u.container)):(u.container=e(e.openPicker(u.pickerHTML)),e(u.container).on("close",function(){p()})),u.container[0].f7Calendar=u,u.wrapper=u.container.find(".picker-calendar-months-wrapper"),u.months=u.wrapper.find(".picker-calendar-month"),u.updateCurrentMonthYear(),u.monthsTranslate=0,u.setMonthsTranslate(),u.initCalendarEvents(),n&&u.updateValue()),u.opened=!0,u.initialized=!0,u.params.onMonthAdd&&u.months.each(function(){u.params.onMonthAdd(u,this)}),u.params.onOpen&&u.params.onOpen(u)},u.close=function(){if(u.opened&&!u.inline)return u.animating=!1,r()?void e.closePicker(u.popover):void e.closePicker(u.container)},u.destroy=function(){u.close(),u.params.input&&u.input.length>0&&(u.input.off("click focus",c),u.input.data("calendar",null)),e("html").off("click",l)},u.inline&&u.open(),u},o=function(e){return e<10?"0"+e:e};e.fn.calendar=function(t,n){return t=t||{},this.each(function(){var a=e(this);if(a[0]){var r={};"INPUT"===a[0].tagName.toUpperCase()?r.input=a:r.container=a;var s=a.data("calendar");if(!s)if("string"==typeof t);else{if(!t.value&&a.val()&&(t.value=[a.val()]),!t.value){var c=new Date;t.value=[c.getFullYear()+"-"+o(c.getMonth()+1)+"-"+o(c.getDate())]}s=a.data("calendar",new i(e.extend(r,t)))}"string"==typeof t&&s[t].call(s,n)}})},t=e.fn.calendar.prototype.defaults={value:void 0,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="javascript:;" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="javascript:;" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="javascript:;" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{yearPicker}}{{monthPicker}}</div></div>'}}($),+function(e){"use strict";var t,n=function(e){return e<10?"0"+e:e},a=function(t,n){this.input=e(t),this.params=n,this.initMonthes="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),this.initYears=function(){for(var e=[],t=1950;t<=2030;t++)e.push(t);return e}();var a=e.extend({},n,this.getConfig());e(this.input).picker(a)};a.prototype={getDays:function(e){for(var t=[],n=1;n<=(e||31);n++)t.push(n<10?"0"+n:n);return t},getDaysByMonthAndYear:function(e,t){var n=new Date(t,parseInt(e)+1-1,1),a=new Date(n-1);return this.getDays(a.getDate())},getConfig:function(){var e,t=new Date,a=this.params,i=this,o={rotateEffect:!1,cssClass:"datetime-picker",value:[t.getFullYear(),n(t.getMonth()+1),n(t.getDate()),n(t.getHours()),n(t.getMinutes())],onChange:function(t,n,o){var r=(t.cols,i.getDaysByMonthAndYear(n[1],n[0])),s=n[2];s>r.length&&(s=r.length),t.cols[4].setValue(s);var c=new Date(n[0]+"-"+n[1]+"-"+n[2]),l=!0;if(a.min){var p=new Date("function"==typeof a.min?a.min():a.min);c<+p&&(t.setValue(e),l=!1)}if(a.max){var u=new Date("function"==typeof a.max?a.max():a.max);c>+u&&(t.setValue(e),l=!1)}l&&(e=n),i.params.onChange&&i.params.onChange.apply(this,arguments)},formatValue:function(e,t,n){return i.params.format(e,t,n)},cols:[{values:function(){for(var e=[],t=1950;t<=2050;t++)e.push(t);return e}()},{divider:!0,content:a.yearSplit},{values:["01","02","03","04","05","06","07","08","09","10","11","12"]},{divider:!0,content:a.monthSplit},{values:function(){for(var e=[],t=1;t<=31;t++)e.push(n(t));return e}()}]};a.dateSplit&&o.cols.push({divider:!0,content:a.dateSplit}),o.cols.push({divider:!0,content:a.datetimeSplit});var r=i.params.times();r&&r.length&&(o.cols=o.cols.concat(r));var s=this.input.val();return s&&(o.value=a.parse(s)),this.params.value&&(this.input.val(this.params.value),o.value=a.parse(this.params.value)),o}},e.fn.datetimePicker=function(n){return n=e.extend({},t,n),this.each(function(){if(this){var t=e(this),i=t.data("datetime");return i||t.data("datetime",new a(this,n)),i}})},t=e.fn.datetimePicker.prototype.defaults={input:void 0,min:void 0,max:void 0,yearSplit:"-",monthSplit:"-",dateSplit:"",datetimeSplit:" ",times:function(){return[{values:function(){for(var e=[],t=0;t<24;t++)e.push(n(t));return e}()},{divider:!0,content:":"},{values:function(){for(var e=[],t=0;t<60;t++)e.push(n(t));return e}()}]},format:function(e,t){return e.cols.map(function(e){return e.value||e.content}).join("")},parse:function(e){var t=e.split(this.datetimeSplit);return t[0].split(/\D/).concat(t[1].split(/:|时|分|秒/)).filter(function(e){return!!e})}}}($),+function(e){"use strict";e.openPopup=function(t,n){e.closePopup(),t=e(t),t.show(),t.width(),t.addClass("weui-popup__container--visible");var a=t.find(".weui-popup__modal");a.width(),a.transitionEnd(function(){a.trigger("open")})},e.closePopup=function(t,n){t=e(t||".weui-popup__container--visible"),t.find(".weui-popup__modal").transitionEnd(function(){var a=e(this);a.trigger("close"),t.hide(),n&&t.remove()}),t.removeClass("weui-popup__container--visible")},e(document).on("click",".yb-close-popup, .weui-popup__overlay",function(){e.closePopup()}).on("click",".open-popup",function(){e(e(this).data("target")).popup()}).on("click",".weui-popup__container",function(t){e(t.target).hasClass("weui-popup__container")&&e.closePopup()}),e.fn.popup=function(){return this.each(function(){e.openPopup(this)})}}($),+function(e){"use strict";var t,n,a,i,o,r,s=function(n){var a=e.getTouchPosition(n);i=a,o=r=0,t.addClass("touching")},c=function(n){if(!i)return!1;n.preventDefault(),n.stopPropagation();var a=e.getTouchPosition(n);o=a.x-i.x,r=a.y-i.y,r>0&&(r=Math.sqrt(r)),t.css("transform","translate3d(0, "+r+"px, 0)")},l=function(){t.removeClass("touching"),t.attr("style",""),r<0&&Math.abs(r)>.38*t.height()&&e.closeNotification(),Math.abs(o)<=1&&Math.abs(r)<=1&&t.trigger("noti-click"),i=!1},p=function(t){t.on(e.touchEvents.start,s),t.on(e.touchEvents.move,c),t.on(e.touchEvents.end,l)};e.notification=e.noti=function(i){i=e.extend({},n,i),t=e(".weui-notification"),t[0]||(t=e('<div class="weui-notification"></div>').appendTo(document.body),p(t)),t.off("noti-click"),i.onClick&&t.on("noti-click",function(){i.onClick(i.data)}),t.html(e.t7.compile(i.tpl)(i)),t.show(),t.addClass("weui-notification--in"),t.data("params",i);var o=function(){a&&(clearTimeout(a),a=null),a=setTimeout(function(){t.hasClass("weui-notification--touching")?o():e.closeNotification()},i.time)};o()},e.closeNotification=function(){a&&clearTimeout(a),a=null;var t=e(".weui-notification").removeClass("weui-notification--in").transitionEnd(function(){e(this).remove()});if(t[0]){var n=e(".weui-notification").data("params");n&&n.onClose&&n.onClose(n.data)}},n=e.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="weui-notification__inner">{{#if media}}<div class="weui-notification__media">{{media}}</div>{{/if}}<div class="weui-notification__content">{{#if title}}<div class="weui-notification__title">{{title}}</div>{{/if}}{{#if text}}<div class="weui-notification__text">{{text}}</div>{{/if}}</div><div class="weui-notification__handle-bar"></div></div>'}}($),+function(e){"use strict";var t;e.toptip=function(n,a,i){if(n){"string"==typeof a&&(i=a,a=void 0),a=a||3e3;var o=i?"bg-"+i:"bg-danger",r=e(".weui-toptips").remove();r=e('<div class="weui-toptips"></div>').appendTo(document.body),r.html(n),r[0].className="weui-toptips "+o,clearTimeout(t),r.hasClass("weui-toptips_visible")||(r.show().width(),r.addClass("weui-toptips_visible")),t=setTimeout(function(){r.removeClass("weui-toptips_visible").transitionEnd(function(){r.remove()})},a)}}}($);